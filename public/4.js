(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{SJBf:function(t,e,i){"use strict";var a=i("o0o1"),o=i.n(a),n={name:"profile-list-item",props:{icon:{type:String,required:!1}}},l=i("KHd+"),r=Object(l.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-list-item",[this.icon?e("v-list-item-avatar",[e("v-icon",{domProps:{textContent:this._s(this.icon)}})],1):this._e(),this._v(" "),e("v-list-item-content",[this._t("default")],2)],1)}),[],!1,null,null,null).exports,s={name:"profile-list-item-content",props:{editMode:{type:Boolean,default:!1},label:String,type:{required:!1,type:String,default:"text"},value:String,choices:{type:Array,required:!1},hyperlink:{required:!1,type:Boolean,default:!1}},data:function(){return{dtPickerId:Math.random().toString(36).substring(2,15),dtPickerDialogShow:!1}}},d=Object(l.a)(s,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-list-item-subtitle",[t._v(t._s(t.label))]),t._v(" "),t.$store.state.isContentLoading?i("v-skeleton-loader",{attrs:{type:"text"}}):[t.editMode?[t.choices?i("v-select",{attrs:{items:t.choices,value:t.value},on:{change:function(e){return t.$emit("input",e)}}}):["date-picker"===t.type?i("v-dialog",{ref:t.dtPickerId,attrs:{"return-value":t.value,persistent:"",width:"290px"},on:{"update:returnValue":function(e){t.value=e},"update:return-value":function(e){t.value=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-text-field",t._g(t._b({attrs:{readonly:""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"v-text-field",o,!1),a))]}}],null,!1,994217306),model:{value:t.dtPickerDialogShow,callback:function(e){t.dtPickerDialogShow=e},expression:"dtPickerDialogShow"}},[t._v(" "),t.dtPickerDialogShow?i("v-date-picker",{attrs:{"full-width":""},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},[i("v-spacer"),t._v(" "),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.dtPickerDialogShow=!1}}},[t._v("Cancel")]),t._v(" "),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs[t.dtPickerId].save(t.value)}}},[t._v("OK")])],1):t._e()],1):i("v-text-field",{attrs:{type:t.type,value:t.value},on:{input:function(e){return t.$emit("input",e)}}})]]:i("v-tooltip",{attrs:{bottom:"","open-delay":"300"},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[t.hyperlink?i("v-list-item-title",t._g(t._b({},"v-list-item-title",o,!1),a),[i("a",{attrs:{href:t.value,target:"_blank"}},[t._v(t._s(t.value))])]):i("v-list-item-title",t._g(t._b({},"v-list-item-title",o,!1),a),[t._v(t._s(t.value))])]}}])},[t._v(" "),i("span",[t._v(t._s(t.value))])])]],2)}),[],!1,null,null,null).exports;function u(t,e,i,a,o,n,l){try{var r=t[n](l),s=r.value}catch(t){return void i(t)}r.done?e(s):Promise.resolve(s).then(a,o)}var p={name:"ProfileCard",props:{profileData:{required:!0},canEdit:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{editMode:!1,jenjang:{value:null,choices:["S1","S2","S3"]},nama_prodi:null,jurusan:null,fakultas:null,ptLengkap:null,ptSingkat:null,status:null,akreditasiProdi:null,tanggalAkreditasiProdi:null,internasionalAkreditasiProdi:null,akreditasi_pt:null,email_prodi:null,no_telp_prodi:null,web_prodi:null,alamat:null,kotaAlamat:null,provinsiAlamat:null,namaKaprodi:null,noKaprodi:null,emailKaprodi:null,periodeMulaiKaprodi:null,periodePurnaKaprodi:null}},methods:{fetchProfileData:function(){var t,e=this;return(t=o.a.mark((function t(){var i,a,n,l,r,s,d,u,p,c,v,m,f,k,_,h,g,b,P,x,w,K,M,j,y,A,S,L,D,$,C;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.$store.commit("contentLoading",!0),t.next=3,e.profileData;case 3:l=t.sent,r=l.jenjang,e.jenjang.value=void 0===r?null:r,s=l.nama_prodi,e.nama_prodi=void 0===s?null:s,d=l.jurusan,e.jurusan=void 0===d?null:d,u=l.fakultas,e.fakultas=void 0===u?null:u,p=void 0===(p=l.pt)?{singkat:e.ptSingkat=null,lengkap:e.ptLengkap=null}:p,c=p.singkat,e.ptSingkat=void 0===c?null:c,v=p.lengkap,e.ptLengkap=void 0===v?null:v,m=l.status,e.status=void 0===m?null:m,f=void 0===(f=l.akreditasi_prodi)?{akreditasi:e.akreditasiProdi=null,tanggal:e.tanggalAkreditasiProdi=null,internasional:e.internasionalAkreditasiProdi=null}:f,k=f.akreditasi,e.akreditasiProdi=void 0===k?null:k,_=f.tanggal,e.tanggalAkreditasiProdi=void 0===_?null:_,h=f.internasional,e.internasionalAkreditasiProdi=void 0===h?null:h,g=l.akreditasi_pt,e.akreditasi_pt=void 0===g?null:g,b=l.web_prodi,e.web_prodi=void 0===b?null:b,P=void 0===(P=l.alamat_kampus)?{alamat:e.alamat=null,kota:e.kotaAlamat=null,provinsi:e.provinsiAlamat=null}:P,x=P.alamat,e.alamat=void 0===x?null:x,w=P.kota,e.kotaAlamat=void 0===w?null:w,K=P.provinsi,e.provinsiAlamat=void 0===K?null:K,M=void 0===(M=l.kaprodi)?{nama:e.namaKaprodi=null,no:e.noKaprodi=null,email:e.emailKaprodi=null,periode:(i={mulai:e.periodeMulaiKaprodi=null,purna:e.periodePurnaKaprodi=null},a=i.mulai,e.periodeMulaiKaprodi=void 0===a?null:a,n=i.purna,e.periodePurnaKaprodi=void 0===n?null:n,i)}:M,j=M.nama,e.namaKaprodi=void 0===j?null:j,y=M.no,e.noKaprodi=void 0===y?null:y,A=M.email,e.emailKaprodi=void 0===A?null:A,S=void 0===(S=M.periode)?{mulai:e.periodeMulaiKaprodi=null,purna:e.periodePurnaKaprodi=null}:S,L=S.mulai,e.periodeMulaiKaprodi=void 0===L?null:L,D=S.purna,e.periodePurnaKaprodi=void 0===D?null:D,$=l.email_prodi,e.email_prodi=void 0===$?null:$,C=l.no_telp_prodi,e.no_telp_prodi=void 0===C?null:C,e.$store.commit("contentLoading",!1);case 59:case"end":return t.stop()}}),t)})),function(){var e=this,i=arguments;return new Promise((function(a,o){var n=t.apply(e,i);function l(t){u(n,a,o,l,r,"next",t)}function r(t){u(n,a,o,l,r,"throw",t)}l(void 0)}))})()},updateProfile:function(){this.editMode=!1,this.$emit("profile-update",{jenjang:this.jenjang.value,nama_prodi:this.nama_prodi,jurusan:this.jurusan,fakultas:this.fakultas,pt:{singkat:this.ptSingkat,lengkap:this.ptLengkap},status:this.status,akreditasi_prodi:{akreditasi:this.akreditasiProdi,tanggal:this.tanggalAkreditasiProdi,internasional:this.internasionalAkreditasiProdi},akreditasi_pt:this.akreditasi_pt,web_prodi:this.web_prodi,alamat_kampus:{alamat:this.alamat,kota:this.kotaAlamat,provinsi:this.provinsiAlamat},kaprodi:{nama:this.namaKaprodi,no:this.noKaprodi,email:this.emailKaprodi,periode:{mulai:this.periodeMulaiKaprodi,purna:this.periodePurnaKaprodi}},email_prodi:this.email_prodi,no_telp_prodi:this.no_telp_prodi})}},mounted:function(){this.fetchProfileData()},watch:{profileData:function(){this.fetchProfileData()}},components:{ProfileListItem:r,ProfileListItemContent:d}},c=Object(l.a)(p,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-card",{attrs:{loading:t.isLoading,width:"100%","max-width":"650",elevation:"4"}},[i("v-card-text",[i("v-container",{attrs:{fluid:""}},[i("v-row",[i("v-col",{attrs:{cols:"12",sm:"8",order:"1","order-sm":"0"}},[t.editMode?i("profile-list-item",[i("v-row",[i("v-col",{attrs:{cols:"3"}},[i("profile-list-item-content",{attrs:{label:"Jenjang",choices:t.jenjang.choices,"edit-mode":t.editMode},model:{value:t.jenjang.value,callback:function(e){t.$set(t.jenjang,"value",e)},expression:"jenjang.value"}})],1),t._v(" "),i("v-col",[i("profile-list-item-content",{attrs:{label:"Nama prodi","edit-mode":t.editMode},model:{value:t.nama_prodi,callback:function(e){t.nama_prodi=e},expression:"nama_prodi"}})],1)],1)],1):t._e(),t._v(" "),t.jurusan&&"-"!==t.jurusan||t.editMode?i("profile-list-item",{attrs:{icon:"mdi-warehouse"}},[i("profile-list-item-content",{attrs:{label:"Jurusan","edit-mode":t.editMode},model:{value:t.jurusan,callback:function(e){t.jurusan=e},expression:"jurusan"}})],1):t._e(),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-domain"}},[i("profile-list-item-content",{attrs:{label:"Fakultas","edit-mode":t.editMode},model:{value:t.fakultas,callback:function(e){t.fakultas=e},expression:"fakultas"}})],1),t._v(" "),t.editMode?i("profile-list-item",{attrs:{icon:"mdi-school"}},[i("v-row",[i("v-col",[i("profile-list-item-content",{attrs:{label:"Nama Perguruan Tinggi (lengkap)","edit-mode":t.editMode},model:{value:t.ptLengkap,callback:function(e){t.ptLengkap=e},expression:"ptLengkap"}})],1),t._v(" "),i("v-col",[i("profile-list-item-content",{attrs:{label:"(singkat)","edit-mode":t.editMode},model:{value:t.ptSingkat,callback:function(e){t.ptSingkat=e},expression:"ptSingkat"}})],1)],1)],1):t._e(),t._v(" "),t.editMode?i("profile-list-item",{attrs:{icon:"mdi-checkbox-marked-circle-outline"}},[i("profile-list-item-content",{attrs:{label:"Status Perguruan Tinggi","edit-mode":t.editMode,choices:["Negeri","Swasta"]},model:{value:t.status,callback:function(e){t.status=e},expression:"status"}})],1):t._e(),t._v(" "),t.editMode?i("profile-list-item",{attrs:{icon:"mdi-check-underline"}},[i("profile-list-item-content",{attrs:{label:"Akreditasi Perguruan Tinggi","edit-mode":t.editMode},model:{value:t.akreditasi_pt,callback:function(e){t.akreditasi_pt=e},expression:"akreditasi_pt"}})],1):t._e(),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-check-underline"}},[i("v-row",[i("v-col",[i("profile-list-item-content",{attrs:{label:"Akreditasi Prodi","edit-mode":t.editMode,choices:["A","B","C","Unggul","Baik Sekali","Baik","Belum Terakreditasi"]},model:{value:t.akreditasiProdi,callback:function(e){t.akreditasiProdi=e},expression:"akreditasiProdi"}})],1),t._v(" "),i("v-col",[i("profile-list-item-content",{attrs:{label:"Tanggal Akreditasi","edit-mode":t.editMode,type:"date-picker"},model:{value:t.tanggalAkreditasiProdi,callback:function(e){t.tanggalAkreditasiProdi=e},expression:"tanggalAkreditasiProdi"}})],1)],1)],1),t._v(" "),t.internasionalAkreditasiProdi&&"-"!==t.internasionalAkreditasiProdi||t.editMode?i("profile-list-item",{attrs:{icon:"mdi-earth"}},[i("profile-list-item-content",{attrs:{label:"Akreditasi/Sertifikasi Internasional","edit-mode":t.editMode},model:{value:t.internasionalAkreditasiProdi,callback:function(e){t.internasionalAkreditasiProdi=e},expression:"internasionalAkreditasiProdi"}})],1):t._e(),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-map"}},[i("profile-list-item-content",{attrs:{label:"Alamat Kampus","edit-mode":t.editMode},model:{value:t.alamat,callback:function(e){t.alamat=e},expression:"alamat"}}),t._v(" "),i("profile-list-item-content",{attrs:{label:"Kota/Kabupaten","edit-mode":t.editMode},model:{value:t.kotaAlamat,callback:function(e){t.kotaAlamat=e},expression:"kotaAlamat"}}),t._v(" "),i("profile-list-item-content",{attrs:{label:"Provinsi","edit-mode":t.editMode},model:{value:t.provinsiAlamat,callback:function(e){t.provinsiAlamat=e},expression:"provinsiAlamat"}})],1),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-email"}},[i("profile-list-item-content",{attrs:{label:"Email Prodi","edit-mode":t.editMode},model:{value:t.email_prodi,callback:function(e){t.email_prodi=e},expression:"email_prodi"}})],1),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-phone"}},[i("profile-list-item-content",{attrs:{label:"Nomer Telpon Kantor","edit-mode":t.editMode},model:{value:t.no_telp_prodi,callback:function(e){t.no_telp_prodi=e},expression:"no_telp_prodi"}})],1)],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-row",[i("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"image",width:"125",height:"125",boilerplate:!t.isLoading}})],1),t._v(" "),i("v-row",[i("v-col",{attrs:{cols:"12"}},[i("h2",{staticClass:"text-caption text-center font-weight-bold"},[t._v(t._s(t.ptLengkap)+" ("+t._s(t.ptSingkat)+")")]),t._v(" "),i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"6"}},[i("h2",{staticClass:"text-caption text-right"},[t._v("Akreditasi")])]),t._v(" "),i("v-col",{attrs:{cols:"6"}},[i("h2",{staticClass:"text-subtitle-2 text-left"},[t._v(t._s(t.akreditasi_pt))])])],1),t._v(" "),i("v-row",{attrs:{dense:""}},[i("v-col",{attrs:{cols:"6"}},[i("h2",{staticClass:"text-caption text-right"},[t._v("Status PT")])]),t._v(" "),i("v-col",{attrs:{cols:"6"}},[i("h2",{staticClass:"text-subtitle-2 text-left"},[t._v(t._s(t.status))])])],1)],1)],1)],1)],1),t._v(" "),i("v-row",[i("v-col",{attrs:{cols:"12",sm:"8",order:"1","order-sm":"0"}},[i("v-divider"),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-account"}},[i("profile-list-item-content",{attrs:{label:"Kaprodi","edit-mode":t.editMode},model:{value:t.namaKaprodi,callback:function(e){t.namaKaprodi=e},expression:"namaKaprodi"}})],1),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-calendar-clock"}},[i("v-row",[i("v-col",[i("profile-list-item-content",{attrs:{label:"Mulai menjabat","edit-mode":t.editMode,type:"number"},model:{value:t.periodeMulaiKaprodi,callback:function(e){t.periodeMulaiKaprodi=e},expression:"periodeMulaiKaprodi"}})],1),t._v(" "),i("v-col",[i("profile-list-item-content",{attrs:{label:"Akhir jabatan","edit-mode":t.editMode,type:"number"},model:{value:t.periodePurnaKaprodi,callback:function(e){t.periodePurnaKaprodi=e},expression:"periodePurnaKaprodi"}})],1)],1)],1),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-email"}},[i("profile-list-item-content",{attrs:{label:"Email Kaprodi","edit-mode":t.editMode},model:{value:t.emailKaprodi,callback:function(e){t.emailKaprodi=e},expression:"emailKaprodi"}})],1),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-phone"}},[i("profile-list-item-content",{attrs:{label:"Nomor HP Kaprodi","edit-mode":t.editMode},model:{value:t.noKaprodi,callback:function(e){t.noKaprodi=e},expression:"noKaprodi"}})],1),t._v(" "),i("profile-list-item",{attrs:{icon:"mdi-web"}},[i("profile-list-item-content",{attrs:{label:"Website Prodi","edit-mode":t.editMode,type:"url",hyperlink:""},model:{value:t.web_prodi,callback:function(e){t.web_prodi=e},expression:"web_prodi"}})],1)],1),t._v(" "),i("v-col",{attrs:{cols:"12",sm:"4"}},[i("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"image",width:"125",height:"125",boilerplate:!t.isLoading}})],1)],1)],1)],1),t._v(" "),t.canEdit?i("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,o=e.attrs;return[i("v-fab-transition",[t.editMode?i("v-btn",t._g(t._b({attrs:{fab:"",fixed:"",bottom:"",right:"",color:"green",dark:""},on:{click:t.updateProfile}},"v-btn",o,!1),a),[i("v-icon",[t._v("mdi-check")])],1):i("v-btn",t._g(t._b({attrs:{fab:"",fixed:"",bottom:"",right:"",color:"blue",dark:""},on:{click:function(e){t.editMode=!0}}},"v-btn",o,!1),a),[i("v-icon",[t._v("mdi-pencil")])],1)],1)]}}],null,!1,3567779843)},[t._v(" "),t.editMode?i("span",[t._v("Save")]):i("span",[t._v("Edit")])]):t._e()],1)}),[],!1,null,null,null);e.a=c.exports},U8xY:function(t,e,i){"use strict";i.r(e);var a=i("o0o1"),o=i.n(a);function n(t,e,i,a,o,n,l){try{var r=t[n](l),s=r.value}catch(t){return void i(t)}r.done?e(s):Promise.resolve(s).then(a,o)}function l(t){return function(){var e=this,i=arguments;return new Promise((function(a,o){var l=t.apply(e,i);function r(t){n(l,a,o,r,s,"next",t)}function s(t){n(l,a,o,r,s,"throw",t)}r(void 0)}))}}var r={name:"MyProfile",data:function(){return{profileLoading:!1,profileData:{}}},computed:{currentUserId:function(){return this.$store.getters.userId},pageTitle:function(){var t,e,i,a;return"".concat(null!==(t=this.profileData.jenjang)&&void 0!==t?t:""," ").concat(null!==(e=this.profileData.nama_prodi)&&void 0!==e?e:""," ").concat(null!==(i=null===(a=this.profileData.pt)||void 0===a?void 0:a.lengkap)&&void 0!==i?i:"")}},methods:{getProfileData:function(){var t=this;return l(o.a.mark((function e(){var i,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.profileLoading=!0,e.prev=1,e.next=4,window.axios("/api/kpbi/profile");case 4:i=e.sent,a=i.data,t.profileData=a,"warn"in a&&t.$emit("notice",{message:a.warn,type:"warning"}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),t.$emit("noticeError",e.t0);case 13:t.profileLoading=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))()},save:function(t){var e=this;return l(o.a.mark((function i(){var a;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.$store.commit("contentLoading",!0),i.prev=1,i.next=4,window.axios.put("/api/kpbi/profile",t);case 4:a=i.sent,e.$emit("notice",{message:a.data.message,type:"success"}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(1),e.$emit("noticeError",i.t0);case 11:e.getProfileData(),e.$store.commit("contentLoading",!1);case 13:case"end":return i.stop()}}),i,null,[[1,8]])})))()}},mounted:function(){this.getProfileData()},watch:{currentUserId:function(){this.getProfileData()}},components:{ProfileCard:i("SJBf").a}},s=i("KHd+"),d=Object(s.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("v-container",{attrs:{fluid:""}},[e("v-row",{attrs:{justify:"center"}},[e("h1",{staticClass:"text-h5 my-6"},[this._v(this._s(this.pageTitle))])]),this._v(" "),e("v-row",{attrs:{justify:"center"}},[e("ProfileCard",{attrs:{"can-edit":!0,profileData:this.profileData,isLoading:this.profileLoading},on:{"profile-update":this.save}})],1)],1)}),[],!1,null,null,null);e.default=d.exports}}]);