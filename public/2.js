(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{SJBf:function(t,i,e){"use strict";var a=e("o0o1"),o=e.n(a),l={name:"profile-list-item",props:{icon:{type:String,required:!1}}},n=e("KHd+"),r=Object(n.a)(l,(function(){var t=this.$createElement,i=this._self._c||t;return i("v-list-item",[this.icon?i("v-list-item-avatar",[i("v-icon",{domProps:{textContent:this._s(this.icon)}})],1):this._e(),this._v(" "),i("v-list-item-content",[this._t("default")],2)],1)}),[],!1,null,null,null).exports,s={name:"profile-list-item-content",props:{editMode:{type:Boolean,default:!1},label:String,value:String,choices:{type:Array,required:!1}}},d=Object(n.a)(s,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",[e("v-list-item-subtitle",[t._v(t._s(t.label))]),t._v(" "),t.$store.state.isContentLoading?e("v-skeleton-loader",{attrs:{type:"text"}}):[t.editMode?[t.choices?e("v-select",{attrs:{items:t.choices,value:t.value},on:{change:function(i){return t.$emit("input",i)}}}):e("v-text-field",{attrs:{value:t.value},on:{input:function(i){return t.$emit("input",i)}}})]:e("v-tooltip",{attrs:{bottom:"","open-delay":"1000"},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on,o=i.attrs;return[e("v-list-item-title",t._g(t._b({},"v-list-item-title",o,!1),a),[t._v(t._s(t.value))])]}}])},[t._v(" "),e("span",[t._v(t._s(t.value))])])]],2)}),[],!1,null,null,null).exports;function u(t,i,e,a,o,l,n){try{var r=t[l](n),s=r.value}catch(t){return void e(t)}r.done?i(s):Promise.resolve(s).then(a,o)}var p={name:"ProfileCard",props:{profileData:{required:!0},canEdit:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},data:function(){return{editMode:!1,jenjang:{value:null,choices:["S1","S2","S3"]},nama_prodi:null,jurusan:null,fakultas:null,ptLengkap:null,ptSingkat:null,status:null,akreditasiProdi:null,tanggalAkreditasiProdi:null,internasionalAkreditasiProdi:null,akreditasi_pt:null,email_prodi:null,no_telp_prodi:null,web_prodi:null,alamat:null,kotaAlamat:null,provinsiAlamat:null,namaKaprodi:null,noKaprodi:null,emailKaprodi:null,periodeMulaiKaprodi:null,periodePurnaKaprodi:null}},methods:{fetchProfileData:function(){var t,i=this;return(t=o.a.mark((function t(){var e,a,l,n,r,s,d,u,p,c,m,v,f,_,k,h,g,b,x,P,w,K,M,j,A,L,S,y;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.$store.commit("contentLoading",!0),t.next=3,i.profileData;case 3:e=t.sent,a=e.jenjang,i.jenjang.value=void 0===a?null:a,l=e.nama_prodi,i.nama_prodi=void 0===l?null:l,n=e.jurusan,i.jurusan=void 0===n?null:n,r=e.fakultas,i.fakultas=void 0===r?null:r,s=e.pt,d=s.singkat,i.ptSingkat=void 0===d?null:d,u=s.lengkap,i.ptLengkap=void 0===u?null:u,p=e.status,i.status=void 0===p?null:p,c=e.akreditasi_prodi,m=c.akreditasi,i.akreditasiProdi=void 0===m?null:m,v=c.tanggal,i.tanggalAkreditasiProdi=void 0===v?null:v,f=c.internasional,i.internasionalAkreditasiProdi=void 0===f?null:f,_=e.akreditasi_pt,i.akreditasi_pt=void 0===_?null:_,k=e.web_prodi,i.web_prodi=void 0===k?null:k,h=e.alamat_kampus,g=h.alamat,i.alamat=void 0===g?null:g,b=h.kota,i.kotaAlamat=void 0===b?null:b,x=h.provinsi,i.provinsiAlamat=void 0===x?null:x,P=e.kaprodi,w=P.nama,i.namaKaprodi=void 0===w?null:w,K=P.no,i.noKaprodi=void 0===K?null:K,M=P.email,i.emailKaprodi=void 0===M?null:M,j=void 0===(j=P.periode)?{mulai:i.periodeMulaiKaprodi=null,purna:i.periodePurnaKaprodi=null}:j,A=j.mulai,i.periodeMulaiKaprodi=void 0===A?null:A,L=j.purna,i.periodePurnaKaprodi=void 0===L?null:L,S=e.email_prodi,i.email_prodi=void 0===S?null:S,y=e.no_telp_prodi,i.no_telp_prodi=void 0===y?null:y,i.$store.commit("contentLoading",!1);case 55:case"end":return t.stop()}}),t)})),function(){var i=this,e=arguments;return new Promise((function(a,o){var l=t.apply(i,e);function n(t){u(l,a,o,n,r,"next",t)}function r(t){u(l,a,o,n,r,"throw",t)}n(void 0)}))})()},updateProfile:function(){var t,i,e;this.editMode=!1,this.$emit("profile-update",{jenjang:this.jenjang.value=null,nama_prodi:this.nama_prodi=null,jurusan:this.jurusan=null,fakultas:this.fakultas=null,pt:{singkat:this.ptSingkat=null,lengkap:this.ptLengkap=null},status:this.status=null,akreditasi_prodi:{akreditasi:this.akreditasiProdi=null,tanggal:this.tanggalAkreditasiProdi=null,internasional:this.internasionalAkreditasiProdi=null},akreditasi_pt:this.akreditasi_pt=null,web_prodi:this.web_prodi=null,alamat_kampus:{alamat:this.alamat=null,kota:this.kotaAlamat=null,provinsi:this.provinsiAlamat=null},kaprodi:{nama:this.namaKaprodi=null,no:this.noKaprodi=null,email:this.emailKaprodi=null,periode:(t={mulai:this.periodeMulaiKaprodi=null,purna:this.periodePurnaKaprodi=null},i=t.mulai,this.periodeMulaiKaprodi=void 0===i?null:i,e=t.purna,this.periodePurnaKaprodi=void 0===e?null:e,t)},email_prodi:this.email_prodi=null,no_telp_prodi:this.no_telp_prodi=null})}},watch:{profileData:function(){this.fetchProfileData()}},components:{ProfileListItem:r,ProfileListItemContent:d}},c=Object(n.a)(p,(function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("v-card",{attrs:{loading:t.isLoading,width:"100%","max-width":"650",elevation:"4"}},[e("v-card-text",[e("v-container",{attrs:{fluid:""}},[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"8",order:"1","order-sm":"0"}},[e("profile-list-item",[t.editMode?e("v-row",[e("v-col",{attrs:{cols:"3"}},[e("profile-list-item-content",{attrs:{label:"Jenjang",choices:t.jenjang.choices,"edit-mode":t.editMode},model:{value:t.jenjang.value,callback:function(i){t.$set(t.jenjang,"value",i)},expression:"jenjang.value"}})],1),t._v(" "),e("v-col",[e("profile-list-item-content",{attrs:{label:"Nama prodi","edit-mode":t.editMode},model:{value:t.nama_prodi,callback:function(i){t.nama_prodi=i},expression:"nama_prodi"}})],1)],1):[e("v-list-item-title",[e("h1",{staticClass:"text-h5"},[t._v(t._s(t.jenjang.value)+" "+t._s(t.nama_prodi)+" "+t._s(t.ptLengkap))]),t._v(" "),e("v-divider")],1)]],2),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-warehouse"}},[e("profile-list-item-content",{attrs:{label:"Jurusan","edit-mode":t.editMode},model:{value:t.jurusan,callback:function(i){t.jurusan=i},expression:"jurusan"}})],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-domain"}},[e("profile-list-item-content",{attrs:{label:"Fakultas","edit-mode":t.editMode},model:{value:t.fakultas,callback:function(i){t.fakultas=i},expression:"fakultas"}})],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-school"}},[t.editMode?e("v-row",[e("v-col",[e("profile-list-item-content",{attrs:{label:"Nama Perguruan Tinggi (lengkap)","edit-mode":t.editMode},model:{value:t.ptLengkap,callback:function(i){t.ptLengkap=i},expression:"ptLengkap"}})],1),t._v(" "),e("v-col",[e("profile-list-item-content",{attrs:{label:"(singkat)","edit-mode":t.editMode},model:{value:t.ptSingkat,callback:function(i){t.ptSingkat=i},expression:"ptSingkat"}})],1)],1):[e("v-list-item-subtitle",[t._v("Perguruan Tinggi")]),t._v(" "),e("v-list-item-title",[t._v(t._s(t.ptLengkap)+" ("+t._s(t.ptSingkat)+")")])]],2),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-check-underline"}},[e("v-row",[e("v-col",[e("profile-list-item-content",{attrs:{label:"Akreditasi Prodi","edit-mode":t.editMode},model:{value:t.akreditasiProdi,callback:function(i){t.akreditasiProdi=i},expression:"akreditasiProdi"}})],1),t._v(" "),e("v-col",[e("profile-list-item-content",{attrs:{label:"Tanggal Akreditasi","edit-mode":t.editMode},model:{value:t.tanggalAkreditasiProdi,callback:function(i){t.tanggalAkreditasiProdi=i},expression:"tanggalAkreditasiProdi"}})],1)],1)],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-earth"}},[e("profile-list-item-content",{attrs:{label:"Akreditasi Internasional","edit-mode":t.editMode},model:{value:t.internasionalAkreditasiProdi,callback:function(i){t.internasionalAkreditasiProdi=i},expression:"internasionalAkreditasiProdi"}})],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-map"}},[e("profile-list-item-content",{attrs:{label:"Alamat Kampus","edit-mode":t.editMode},model:{value:t.alamat,callback:function(i){t.alamat=i},expression:"alamat"}}),t._v(" "),e("profile-list-item-content",{attrs:{label:"Kota/Kabupaten","edit-mode":t.editMode},model:{value:t.kotaAlamat,callback:function(i){t.kotaAlamat=i},expression:"kotaAlamat"}}),t._v(" "),e("profile-list-item-content",{attrs:{label:"Provinsi","edit-mode":t.editMode},model:{value:t.provinsiAlamat,callback:function(i){t.provinsiAlamat=i},expression:"provinsiAlamat"}})],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-email"}},[e("profile-list-item-content",{attrs:{label:"Email Prodi","edit-mode":t.editMode},model:{value:t.email_prodi,callback:function(i){t.email_prodi=i},expression:"email_prodi"}})],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-phone"}},[e("profile-list-item-content",{attrs:{label:"Nomer Telpon Kantor","edit-mode":t.editMode},model:{value:t.no_telp_prodi,callback:function(i){t.no_telp_prodi=i},expression:"no_telp_prodi"}})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"4"}},[e("v-row",[e("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"image",width:"125",height:"125",boilerplate:!t.isLoading}})],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("h2",{staticClass:"text-caption text-center"},[t._v(t._s(t.ptLengkap)+" ("+t._s(t.ptSingkat)+")")]),t._v(" "),e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"6"}},[e("h2",{staticClass:"text-caption text-right"},[t._v("Akreditasi")])]),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("h2",{staticClass:"text-subtitle-2 text-left"},[t._v(t._s(t.akreditasi_pt))])])],1),t._v(" "),e("v-row",{attrs:{dense:""}},[e("v-col",{attrs:{cols:"6"}},[e("h2",{staticClass:"text-caption text-right"},[t._v("Status PT")])]),t._v(" "),e("v-col",{attrs:{cols:"6"}},[e("h2",{staticClass:"text-subtitle-2 text-left"},[t._v(t._s(t.status))])])],1)],1)],1)],1)],1),t._v(" "),e("v-row",[e("v-col",{attrs:{cols:"12",sm:"8",order:"1","order-sm":"0"}},[e("v-divider"),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-account"}},[e("profile-list-item-content",{attrs:{label:"Kaprodi","edit-mode":t.editMode},model:{value:t.namaKaprodi,callback:function(i){t.namaKaprodi=i},expression:"namaKaprodi"}})],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-calendar-clock"}},[e("v-row",[e("v-col",[e("profile-list-item-content",{attrs:{label:"Mulai menjabat","edit-mode":t.editMode},model:{value:t.periodeMulaiKaprodi,callback:function(i){t.periodeMulaiKaprodi=i},expression:"periodeMulaiKaprodi"}})],1),t._v(" "),e("v-col",[e("profile-list-item-content",{attrs:{label:"Akhir jabatan","edit-mode":t.editMode},model:{value:t.periodePurnaKaprodi,callback:function(i){t.periodePurnaKaprodi=i},expression:"periodePurnaKaprodi"}})],1)],1)],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-email"}},[e("profile-list-item-content",{attrs:{label:"Email Kaprodi","edit-mode":t.editMode},model:{value:t.emailKaprodi,callback:function(i){t.emailKaprodi=i},expression:"emailKaprodi"}})],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-phone"}},[e("profile-list-item-content",{attrs:{label:"Nomor HP Kaprodi","edit-mode":t.editMode},model:{value:t.noKaprodi,callback:function(i){t.noKaprodi=i},expression:"noKaprodi"}})],1),t._v(" "),e("profile-list-item",{attrs:{icon:"mdi-web"}},[e("profile-list-item-content",{attrs:{label:"Website Prodi","edit-mode":t.editMode},model:{value:t.web_prodi,callback:function(i){t.web_prodi=i},expression:"web_prodi"}})],1)],1),t._v(" "),e("v-col",{attrs:{cols:"12",sm:"4"}},[e("v-skeleton-loader",{staticClass:"mx-auto",attrs:{type:"image",width:"125",height:"125",boilerplate:!t.isLoading}})],1)],1)],1)],1),t._v(" "),t.canEdit?e("v-tooltip",{attrs:{top:""},scopedSlots:t._u([{key:"activator",fn:function(i){var a=i.on,o=i.attrs;return[e("v-fab-transition",[t.editMode?e("v-btn",t._g(t._b({attrs:{fab:"",fixed:"",bottom:"",right:"",color:"green",dark:""},on:{click:t.updateProfile}},"v-btn",o,!1),a),[e("v-icon",[t._v("mdi-check")])],1):e("v-btn",t._g(t._b({attrs:{fab:"",fixed:"",bottom:"",right:"",color:"blue",dark:""},on:{click:function(i){t.editMode=!0}}},"v-btn",o,!1),a),[e("v-icon",[t._v("mdi-pencil")])],1)],1)]}}],null,!1,3567779843)},[t._v(" "),t.editMode?e("span",[t._v("Save")]):e("span",[t._v("Edit")])]):t._e()],1)}),[],!1,null,null,null);i.a=c.exports},U8xY:function(t,i,e){"use strict";e.r(i);var a=e("o0o1"),o=e.n(a);function l(t,i,e,a,o,l,n){try{var r=t[l](n),s=r.value}catch(t){return void e(t)}r.done?i(s):Promise.resolve(s).then(a,o)}function n(t){return function(){var i=this,e=arguments;return new Promise((function(a,o){var n=t.apply(i,e);function r(t){l(n,a,o,r,s,"next",t)}function s(t){l(n,a,o,r,s,"throw",t)}r(void 0)}))}}var r={name:"MyProfile",data:function(){return{profileLoading:!1,profileData:{}}},methods:{getProfileData:function(){var t=this;return n(o.a.mark((function i(){var e;return o.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t.profileLoading=!0,e=window.axios.get("/api/kpbi/profile").then((function(i){var e=i.data;return t.profileLoading=!1,e})).catch((function(t){return t.data})),i.next=4,e;case 4:t.profileData=i.sent;case 5:case"end":return i.stop()}}),i)})))()},save:function(t){var i=this;return n(o.a.mark((function e(){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.$store.commit("contentLoading",!0),e.prev=1,e.next=4,window.axios.put("/api/kpbi/profile",t);case 4:a=e.sent,i.$emit("notice",{message:a.data.message,type:"success"}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i.$emit("noticeError",e.t0);case 11:i.getProfileData(),i.$store.commit("contentLoading",!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})))()}},mounted:function(){this.getProfileData()},components:{ProfileCard:e("SJBf").a}},s=e("KHd+"),d=Object(s.a)(r,(function(){var t=this.$createElement,i=this._self._c||t;return i("v-container",{attrs:{fluid:""}},[i("v-row",{attrs:{justify:"center"}},[i("ProfileCard",{attrs:{"can-edit":!0,profileData:this.profileData,isLoading:this.profileLoading},on:{"profile-update":this.save}})],1)],1)}),[],!1,null,null,null);i.default=d.exports}}]);